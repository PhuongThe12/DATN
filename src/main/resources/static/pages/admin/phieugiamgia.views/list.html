<div class="card" style="margin: 20px">
    <h5 class="card-header">Danh sách Phiếu Giảm Giá</h5>
    <div class="card-body">
        <div class="d-flex add-search-custom">
            <div class="input-group w-25">
                <span class="input-group-text" id="basic-addon1"><i class="fas fa-search"></i></span>
                <input id="seachText" class="form-control" type="text" ng-model="searchText"
                       placeholder="Nhập từ khóa">
                <button class="btn btn-custom " ng-click="search()">Tìm kiếm</button>
            </div>
            <a class="btn btn-primary" href="#/add">Thêm Phiếu Giảm Giá</a>
        </div>

        <!--        <div class="d-flex justify-content-start radio-filter">-->
        <!--            <div class="custom-radio">-->
        <!--                <input type="radio" id="all" name="status" ng-model="status" value="-1" ng-checked="status != 0 && status != 1"-->
        <!--                       ng-change="changeRadio(-1)">-->
        <!--                <label class="radio-label" for="all">Tất cả</label>-->
        <!--            </div>-->

        <!--            <div class="custom-radio">-->
        <!--                <input type="radio" id="active" name="status" ng-model="status" value="1" ng-checked="status == 1"-->
        <!--                       ng-change="changeRadio(1)">-->
        <!--                <label class="radio-label" for="active">Đang Làm</label>-->
        <!--            </div>-->

        <!--            <div class="custom-radio">-->
        <!--                <input type="radio" id="disable" name="status" ng-model="status" value="0" ng-checked="status == 0"-->
        <!--                       ng-change="changeRadio(0)">-->
        <!--                <label class="radio-label" for="disable">Đã Nghỉ</label>-->
        <!--            </div>-->
        <!--            <div class="custom-radio">-->
        <!--                <input type="radio" id="staff" name="status" ng-model="status" value="2" ng-checked="status == 2"-->
        <!--                       ng-change="changeRadio(2)">-->
        <!--                <label class="radio-label" for="staff">Nhân Viên</label>-->
        <!--            </div>-->
        <!--            <div class="custom-radio">-->
        <!--                <input type="radio" id="admin" name="status" ng-model="status" value="3" ng-checked="status == 3"-->
        <!--                       ng-change="changeRadio(3)">-->
        <!--                <label class="radio-label" for="admin">Chủ Cửa Hàng</label>-->
        <!--            </div>-->
        <!--        </div>-->


        <div>
            <table class="table align-middle text-center" border="1">
                <tr class="table-secondary">
                    <th>Stt</th>
                    <th>Mã phiếu</th>
                    <th>Phần trăm giảm</th>
                    <th>Số lượng phiếu</th>
                    <th>Ngày bắt đầu</th>
                    <th>Ngày kết thúc</th>
                    <th>Giá trị đơn tối thiểu</th>
                    <th>Giá trị giảm tối đa</th>
                    <th>Đối tượng áp dụng</th>
                    <th>Người tạo</th>
                    <th>Ngày tạo</th>
                    <th>Trạng thái</th>
                    <th>Action</th>
                </tr>

                <tr ng-repeat="(index,pgg) in phieugiamgias">
                    <td>{{index+1}}</td>
                    <td>{{pgg.maGiamGia}}</td>
                    <td>{{pgg.phanTramGiam}}</td>
                    <td>{{pgg.soLuongPhieu}}</td>
                    <td>{{pgg.ngayBatDau | date:'yyyy-MM-dd'}}</td>
                    <td>{{pgg.ngayKetThuc | date:'yyyy-MM-dd'}}</td>
                    <td>{{pgg.giaTriDonToiThieu}}</td>
                    <td>{{pgg.giaTriGiamToiDa}}</td>
                    <td>{{pgg.tenHang}}</td>
                    <td>{{pgg.nguoiTao}}</td>
                    <td>{{pgg.ngayTao | date:'yyyy-MM-dd'}}</td>
                    <td>
                        <h5>
                <span ng-class="{'badge bd-success-custom': pgg.trangThai == 1, 'badge bd-danger-custom': pgg.trangThai != 1}">
                    {{pgg.trangThai == 1 ? 'Còn hạn' : 'Hết hạn'}}
                </span>
                        </h5>
                    </td>
                    <td>
                        <div class="d-sm-inline-flex">
                            <button class="btn btn-custom" ng-click="detailPhieuGiamGia(pgg.id)" data-bs-toggle="modal"
                                    data-bs-target="#showPhieuGiamGia"><i class="fas fa-eye"></i>
                            </button>
                            <a class="btn btn-custom" ng-href="#/update/{{pgg.id}}"><i class="far fa-edit"></i></a>
                        </div>
                    </td>
                </tr>
            </table>

            <div ng-show="numOfPages > 1" data-pagination="" data-num-pages="numOfPages" data-current-page="curPage"
                 data-max-size="maxSize"
                 data-boundary-links="true">
            </div>

        </div>

    </div>
</div>

<!--             Modal Detail-->
<div class="modal fade" id="showPhieuGiamGia" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Chi Tiết Phiếu Giảm Giá</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table>
                    <tr>
                        <td>ID :</td>
                        <th>{{phieuGiamGiaDetail.id}}</th>
                    </tr>
                    <tr>
                        <td>Mã giảm giá :</td>
                        <th>{{phieuGiamGiaDetail.maGiamGia}}</th>
                    </tr>
                    <tr>
                        <td>Phần trăm giảm :</td>
                        <th>{{phieuGiamGiaDetail.phanTramGiam}}</th>
                    </tr>
                    <tr>
                        <td>Số lượng phiếu :</td>
                        <th>{{phieuGiamGiaDetail.soLuongPhieu}}</th>
                    </tr>
                    <tr>
                        <td>Ngày bắt đầu :</td>
                        <th>{{phieuGiamGiaDetail.ngayBatDau | date:'yyyy-MM-dd'}}</th>
                    </tr>
                    <tr>
                        <td>Ngày kết thúc :</td>
                        <th>{{phieuGiamGiaDetail.ngayKetThuc | date:'yyyy-MM-dd'}}</th>
                    </tr>
                    <tr>
                        <td>Gia tri đơn tối thiểu :</td>
                        <th>{{phieuGiamGiaDetail.giaTriDonToiThieu}}</th>
                    </tr>
                    <tr>
                        <td>Giá trị giảm tối đa :</td>
                        <th>{{phieuGiamGiaDetail.giaTriGiamToiDa}}</th>
                    </tr>
                    <tr>
                        <td>Đối tượng áp dụng :</td>
                        <th>{{phieuGiamGiaDetail.tenHang}}</th>
                    </tr>
                    <tr>
                        <td>Người tạo :</td>
                        <th>{{phieuGiamGiaDetail.nguoiTao}}</th>
                    </tr>
                    <tr>
                        <td>Ngày tạo :</td>
                        <th>{{phieuGiamGiaDetail.ngayTao | date:'yyyy-MM-dd'}}</th>
                    </tr>
                    <tr>
                        <td>Trạng thái :</td>
                        <th>{{pgg.trangThai == 1 ? 'Còn hạn' : 'Hết hạn'}}</th>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>